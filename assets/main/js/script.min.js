import{preloadImages}from"../../libs/utils.js";let lenis=new Lenis;function customDropdown(){let e=document.querySelectorAll(".dropdown-custom");function l(n){e.forEach(e=>{var t=e.querySelector(".dropdown-custom-menu"),o=e.querySelector(".dropdown-custom-btn");n&&e===n||(t.classList.remove("dropdown--active"),o.classList.remove("--active"))})}e.forEach(t=>{let o=t.querySelector(".dropdown-custom-btn"),n=t.querySelector(".dropdown-custom-menu");var e=t.querySelectorAll(".dropdown-custom-item");let r=t.querySelector(".value-select");o.addEventListener("click",function(e){e.stopPropagation(),l(t),n.classList.toggle("dropdown--active"),o.classList.toggle("--active")}),document.addEventListener("click",function(){l()}),e.forEach(n=>{n.addEventListener("click",function(e){e.stopPropagation();var e=r.querySelector("img").src,t=r.querySelector("span").textContent,o=(r.innerHTML,n.innerHTML);r.innerHTML=o,n.innerHTML=`<img src="${e}" alt="" /><span>${t}</span>`,l()})}),window.addEventListener("scroll",function(){l()})})}function bookingForm(){var o;document.querySelector(".banner-booking")&&(o=new Lightpick({field:document.getElementById("check-in"),secondField:document.getElementById("check-out"),singleDate:!1,minDate:moment().startOf("now"),numberOfMonths:2,onOpen:function(){var e=o._opts.field.getBoundingClientRect(),t=o.el;e.top>=window.innerHeight/2?t.style.top=e.top+window.scrollY-t.offsetHeight+"px":t.style.top=e.bottom+window.scrollY+"px",t.style.left=e.left+window.scrollX+"px"}}),document.querySelectorAll(".people, .child").forEach(e=>{let t=e.querySelector(".min");var o=e.querySelector(".plus");let n=e.querySelector(".val");o.onclick=()=>{var e=parseInt(n.textContent);n.textContent=Math.min(e+1,10),t.style.opacity=0<n.textContent?"1":"0.5"},t.onclick=()=>{var e=parseInt(n.textContent),e=Math.max(e-1,0);n.textContent=e,t.style.opacity=0<e?"1":"0.5"}}))}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),customDropdown(),bookingForm()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});